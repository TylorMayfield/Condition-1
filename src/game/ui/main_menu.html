<div id="menu-overlay">
    <div class="menu-container">
        <div class="menu-header">
            <h1 class="game-title">CONDITION-1</h1>
        </div>

        <div class="menu-content">
            <!-- Sidebar Navigation -->
            <div class="menu-sidebar">
                <button class="menu-btn" id="btn-resume" style="display:none;">Resume Game</button>
                <button class="menu-btn" id="btn-new-game">New Game / Maps</button>
                <button class="menu-btn" id="btn-settings">Settings</button>
                <button class="menu-btn" id="btn-credits">Credits</button>
                <button class="menu-btn" id="btn-quit"
                    style="margin-top: auto; border-color: #ef4444; color: #ef4444;">Exit to Desktop</button>
            </div>

            <!-- Panels -->

            <!-- Map Select Panel -->
            <div class="menu-panel" id="panel-maps">
                <h2 class="panel-title">Select Operation</h2>

                <div style="margin-bottom: 20px;">
                    <label for="gamemode-select"
                        style="color: #a5b4fc; margin-right: 10px; font-size: 18px;">Mode:</label>
                    <select id="gamemode-select"
                        style="padding: 10px; font-size: 16px; background: #1e1e2e; color: white; border: 1px solid #4ade80; border-radius: 5px;">
                        <option value="tdm">Team Deathmatch (5v5)</option>
                        <option value="ffa">Free For All (Deathmatch)</option>
                        <option value="moba">MOBA (3-Lane Tower Attack)</option>
                        <option value="rl-training">RL Training (AI Only)</option>
                    </select>
                </div>

                <div id="spectator-options" style="margin-bottom: 20px; display: flex; align-items: center;">
                    <input type="checkbox" id="checkbox-spectator" style="margin-right: 10px; transform: scale(1.5);">
                    <label for="checkbox-spectator" style="color: #a5b4fc; font-size: 18px; cursor: pointer;">Spectator
                        Only</label>
                </div>

                <!-- RL Training Options (shown when rl-training mode selected) -->
                <div id="rl-training-options"
                    style="display: none; margin-bottom: 20px; padding: 15px; background: rgba(99, 102, 241, 0.1); border: 1px solid #6366f1; border-radius: 8px;">
                    <h4 style="color: #a5b4fc; margin: 0 0 12px 0; font-size: 16px;">üß† Training Settings</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                        <div style="flex: 1; min-width: 150px;">
                            <label style="color: #94a3b8; font-size: 14px; display: block; margin-bottom: 5px;">Bots Per
                                Team</label>
                            <input type="number" id="rl-bots-per-team" value="3" min="1" max="10"
                                style="width: 100%; padding: 8px; background: #1e1e2e; color: white; border: 1px solid #4b5563; border-radius: 4px;">
                        </div>
                        <div style="flex: 1; min-width: 150px;">
                            <label style="color: #94a3b8; font-size: 14px; display: block; margin-bottom: 5px;">Round
                                Duration (s)</label>
                            <input type="number" id="rl-round-duration" value="30" min="10" max="300"
                                style="width: 100%; padding: 8px; background: #1e1e2e; color: white; border: 1px solid #4b5563; border-radius: 4px;">
                        </div>
                        <div style="flex: 1; min-width: 150px;">
                            <label
                                style="color: #94a3b8; font-size: 14px; display: block; margin-bottom: 5px;">Auto-save
                                Every (episodes)</label>
                            <input type="number" id="rl-autosave-interval" value="10" min="1" max="100"
                                style="width: 100%; padding: 8px; background: #1e1e2e; color: white; border: 1px solid #4b5563; border-radius: 4px;">
                        </div>
                    </div>
                    <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <button id="rl-load-model-btn" class="menu-btn"
                            style="padding: 8px 16px; font-size: 14px; background: #4f46e5;">
                            üìÅ Load Model
                        </button>
                        <input type="file" id="rl-model-file-input" accept=".json" style="display: none;">
                        <span id="rl-model-status" style="color: #94a3b8; font-size: 14px; align-self: center;">No model
                            loaded (will train from scratch)</span>
                    </div>
                </div>

                <div class="map-grid" id="map-grid-container">
                    <!-- Configured via JS -->
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="menu-panel" id="panel-settings">
                <h2 class="panel-title">Settings</h2>

                <!-- Settings Tabs -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button class="menu-btn" style="padding: 10px;" onclick="showSettingsTab('video')">Video</button>
                    <button class="menu-btn" style="padding: 10px;" onclick="showSettingsTab('audio')">Audio</button>
                    <button class="menu-btn" style="padding: 10px;"
                        onclick="showSettingsTab('controls')">Controls</button>
                </div>

                <!-- Video Settings -->
                <div id="settings-video" class="settings-tab">
                    <div class="setting-group">
                        <label class="setting-label">Field of View</label>
                        <input type="range" id="setting-fov" min="60" max="110" value="75">
                        <span id="value-fov">75</span>
                    </div>
                    <div class="setting-group">
                        <label class="setting-label">Mouse Sensitivity</label>
                        <input type="range" id="setting-sens" min="0.1" max="5.0" step="0.1" value="1.0">
                        <span id="value-sens">1.0</span>
                    </div>
                </div>

                <!-- Audio Settings -->
                <div id="settings-audio" class="settings-tab" style="display:none;">
                    <div class="setting-group">
                        <label class="setting-label">Master Volume</label>
                        <input type="range" id="setting-vol-master" min="0" max="1" step="0.1">
                    </div>
                    <div class="setting-group">
                        <label class="setting-label">Music Volume</label>
                        <input type="range" id="setting-vol-music" min="0" max="1" step="0.1">
                    </div>
                    <div class="setting-group">
                        <label class="setting-label">SFX Volume</label>
                        <input type="range" id="setting-vol-sfx" min="0" max="1" step="0.1">
                    </div>
                </div>

                <!-- Controls Settings -->
                <div id="settings-controls" class="settings-tab" style="display:none;">
                    <div class="keybind-grid" id="keybind-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <div style="margin-top: 20px; display: flex; justify-content: flex-end;">
                    <button class="menu-btn" id="btn-save-settings">Save Changes</button>
                </div>
            </div>

            <!-- Credits Panel -->
            <div class="menu-panel" id="panel-credits">
                <h2 class="panel-title">Credits</h2>

                <h3 style="color: #a5b4fc; margin-top: 0;">Lead Developer</h3>
                <p style="font-size: 18px; margin-bottom: 30px;">Tylor Mayfield</p>

                <h3 style="color: #a5b4fc;">Powered By</h3>
                <ul style="list-style: none; padding: 0; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <li>Three.js</li>
                    <li>Cannon-es</li>
                    <li>Vite</li>
                    <li>TypeScript</li>
                    <li>Electron</li>
                    <li>Vitest</li>
                </ul>
            </div>

        </div>
    </div>
</div>